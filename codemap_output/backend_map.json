[
  {
    "Path": "cmd/codemap/main.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "function",
        "name": "main",
        "line": 17,
        "signature": "func main()"
      },
      {
        "type": "function",
        "name": "parseFiles",
        "line": 74,
        "signature": "func parseFiles(files []string) []types.FileMap",
        "comment": "parseFiles parses the given files and returns file maps"
      },
      {
        "type": "function",
        "name": "generateOutput",
        "line": 107,
        "signature": "func generateOutput(files []types.FileMap, format, outputPath string)",
        "comment": "generateOutput writes the output in the specified format"
      }
    ]
  },
  {
    "Path": "internal/config/config.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "function",
        "name": "LoadConfig",
        "line": 13,
        "signature": "func LoadConfig(path string) (*types.Config, error)",
        "comment": "LoadConfig reads and parses the .codemap YAML configuration file\nIt returns a Config struct or an error if the file cannot be read or parsed"
      }
    ]
  },
  {
    "Path": "internal/output/output.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "type",
        "name": "CodemapXML",
        "line": 13,
        "definition": "type CodemapXML struct { XMLName xml.Name `xml:\"codemap\"` Files []FileXML `xml:\"file\"` }",
        "comment": "CodemapXML is the root element for XML output"
      },
      {
        "type": "type",
        "name": "FileXML",
        "line": 19,
        "definition": "type FileXML struct { Path string `xml:\"path,attr\"` Language string `xml:\"language,attr\"` Definitions []DefinitionXML `xml:\"definition\"` }",
        "comment": "FileXML represents a file in XML"
      },
      {
        "type": "type",
        "name": "DefinitionXML",
        "line": 26,
        "definition": "type DefinitionXML struct { Type string `xml:\"type,attr\"` Name string `xml:\"name,attr\"` Line int `xml:\"line,attr\"` Signature string `xml:\",innerxml\"` Comment string `xml:\"comment,omitempty\"` }",
        "comment": "DefinitionXML represents a definition in XML"
      },
      {
        "type": "function",
        "name": "GenerateXML",
        "line": 35,
        "signature": "func GenerateXML(files []types.FileMap) (string, error)",
        "comment": "GenerateXML converts file maps to XML string"
      },
      {
        "type": "function",
        "name": "GenerateJSON",
        "line": 64,
        "signature": "func GenerateJSON(files []types.FileMap) (string, error)",
        "comment": "GenerateJSON converts file maps to JSON string"
      },
      {
        "type": "function",
        "name": "GenerateYAML",
        "line": 70,
        "signature": "func GenerateYAML(files []types.FileMap) (string, error)",
        "comment": "GenerateYAML converts file maps to YAML string"
      }
    ]
  },
  {
    "Path": "internal/parser/go_parser.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "type",
        "name": "GoParser",
        "line": 15,
        "definition": "type GoParser struct{}",
        "comment": "GoParser implements the Parser interface for Go source files"
      },
      {
        "type": "function",
        "name": "Parse",
        "line": 18,
        "signature": "func (p *GoParser) Parse(filePath string) ([]types.Definition, error)",
        "comment": "Parse extracts definitions from a Go source file"
      },
      {
        "type": "function",
        "name": "extractSignature",
        "line": 64,
        "signature": "func extractSignature(src []byte, fset *token.FileSet, node *ast.FuncDecl) string",
        "comment": "extractSignature extracts the function signature from source bytes"
      },
      {
        "type": "function",
        "name": "extractTypeDefinition",
        "line": 72,
        "signature": "func extractTypeDefinition(src []byte, fset *token.FileSet, genDecl *ast.GenDecl, typeSpec *ast.TypeSpec) string",
        "comment": "extractTypeDefinition extracts the type definition from source bytes"
      },
      {
        "type": "function",
        "name": "extractComment",
        "line": 80,
        "signature": "func extractComment(cg *ast.CommentGroup) string",
        "comment": "extractComment extracts the comment text from a comment group"
      },
      {
        "type": "function",
        "name": "normalizeWhitespace",
        "line": 88,
        "signature": "func normalizeWhitespace(s string) string",
        "comment": "normalizeWhitespace replaces multiple whitespace characters with a single space"
      }
    ]
  },
  {
    "Path": "internal/parser/js_parser.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "type",
        "name": "JSParser",
        "line": 12,
        "definition": "type JSParser struct{}",
        "comment": "JSParser implements the Parser interface for JavaScript and TypeScript files"
      },
      {
        "type": "function",
        "name": "Parse",
        "line": 15,
        "signature": "func (p *JSParser) Parse(filePath string) ([]types.Definition, error)",
        "comment": "Parse extracts definitions from a JS/TS source file using regex patterns"
      },
      {
        "type": "function",
        "name": "extractJSComment",
        "line": 71,
        "signature": "func extractJSComment(lines []string, currentIndex int) string",
        "comment": "extractJSComment extracts preceding comment lines"
      }
    ]
  },
  {
    "Path": "internal/parser/parser.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "type",
        "name": "Parser",
        "line": 10,
        "definition": "type Parser interface { // Parse analyzes a source file and extracts code definitions Parse(filePath string) ([]types.Definition, error) }",
        "comment": "Parser defines the interface for language-specific parsers"
      },
      {
        "type": "function",
        "name": "GetParser",
        "line": 16,
        "signature": "func GetParser(filePath string) Parser",
        "comment": "GetParser returns the appropriate parser for the given file extension"
      }
    ]
  },
  {
    "Path": "internal/types/types.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "type",
        "name": "Config",
        "line": 4,
        "definition": "type Config struct { Version string `yaml:\"version\"` Sections []Section `yaml:\"sections\"` }",
        "comment": "Config represents the .codemap configuration file structure"
      },
      {
        "type": "type",
        "name": "Section",
        "line": 10,
        "definition": "type Section struct { Name string `yaml:\"name\"` Path string `yaml:\"path\"` Include []string `yaml:\"include\"` Exclude []string `yaml:\"exclude\"` }",
        "comment": "Section defines a named section of the codebase for mapping"
      },
      {
        "type": "type",
        "name": "Definition",
        "line": 18,
        "definition": "type Definition struct { Type string `json:\"type\"` Name string `json:\"name\"` Line int `json:\"line\"` Signature string `json:\"signature,omitempty\"` // For functions Definition string `json:\"definition,omitempty\"` // For types Comment string `json:\"comment,omitempty\"` }",
        "comment": "Definition represents a parsed code definition (function, type, etc.)"
      },
      {
        "type": "type",
        "name": "FileMap",
        "line": 28,
        "definition": "type FileMap struct { Path string Language string Definitions []Definition }",
        "comment": "FileMap contains the parsed definitions for a single file"
      },
      {
        "type": "type",
        "name": "CodeMap",
        "line": 35,
        "definition": "type CodeMap struct { Files []FileMap }",
        "comment": "CodeMap represents the complete code map"
      }
    ]
  },
  {
    "Path": "internal/walker/walker.go",
    "Language": "go",
    "Definitions": [
      {
        "type": "function",
        "name": "Walk",
        "line": 12,
        "signature": "func Walk(dir string, include []string, exclude []string) ([]string, error)",
        "comment": "Walk traverses the directory tree starting from dir, applying include and exclude patterns\nIt returns a list of file paths that match the criteria"
      },
      {
        "type": "function",
        "name": "matchesAny",
        "line": 46,
        "signature": "func matchesAny(path string, patterns []string) bool",
        "comment": "matchesAny checks if the path matches any of the patterns"
      }
    ]
  }
]